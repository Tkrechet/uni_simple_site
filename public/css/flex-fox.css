:root {

    --roller-width: 200px;
    --roller-height: 200px;

 
    --bg-color: #fff;
    --border-color: #000;
    --text-color: orange;
    --sec: 2s;

    --tree-width: 110%;       
    --tree-height: 60%;
    --tree-left: 50%;         
    --tree-bottom: 10%;

    --fox-width: 50%;
    --fox-height: 25%;
    --fox-left: 50%;
    --fox-bottom: 10%;

    --cloud-width: 60%;
    --cloud-top: 5%;
    --cloud-left-offset: -60%;   
    --cloud-right-offset: 100%;  


    --cloud-text-top: 30%;
    --cloud-text-right: 10%;
    --cloud-text-size: 0.05;   
    --tree-text-top: 30%;
    --tree-text-left: -70%;
    --tree-text-size: 0.05;

    --cloud-left-move: 150%;    
    --cloud-right-move: -150%;
}




body {
    background: var(--bg-color);
    color: #000;
    margin: 0;
    font-family: sans-serif;
    display: flex;
    flex-direction: column;
    min-height: 100vh;
}

main {
    flex: 1;
    display: flex;
    justify-content: center;
    align-items: center;
}

.flex-fox-wrapper {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1.5rem;
    padding: 2rem;
    border-radius: 1rem;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    background-color: #fdfdfd;
}

.flex-roller {
    position: relative;
    width: var(--roller-width);
    height: var(--roller-height);
    overflow: hidden;
    border: 3px solid var(--border-color);
    border-radius: 1rem;
    background-color: var(--bg-color);
}

.background {
    position: absolute;
    width: 100%;
    height: 100%;
    z-index: 0;
    object-fit: cover;
}

.left-side,
.right-side {
    position: relative;
    width: 50%;
    height: 100%;
    float: left;
}


.tree {
    position: absolute;
    bottom: var(--tree-bottom);
    left: var(--tree-left);
    width: var(--tree-width);
    height: var(--tree-height);
    transform: translateX(-50%);
    z-index: 2;
}


.fox {
    position: absolute;
    bottom: var(--fox-bottom);
    left: var(--fox-left);
    width: var(--fox-width);
    height: var(--fox-height);
    transform: translateX(-50%);
    z-index: 3;
    cursor: pointer;
}


.cloud {
    position: absolute;
    top: var(--cloud-top);
    width: var(--cloud-width);
    opacity: 1;
    z-index: 4;
}

.cloud-left { left: var(--cloud-left-offset); }
.cloud-right { 
    left: var(--cloud-right-offset); 
    width: var(--cloud-width) + 2%;
    height: 20%;
    top: 10%}

.cloud-text {
    position: absolute;
    top: var(--cloud-text-top);
    right: var(--cloud-text-right);
    font-size: calc(var(--roller-width) * var(--cloud-text-size));
    color: var(--text-color);
    opacity: 0;
    transition: opacity 0.3s;
}

.tree-text {
    position: absolute;
    top: var(--tree-text-top);
    left: var(--tree-text-left);
    font-size: calc(var(--roller-width) * var(--tree-text-size));
    color: var(--text-color);
    transform: translateX(-50%) rotate(-25deg);
    opacity: 0;
    transition: opacity 0.5s;
}


.flex-roller:hover .cloud-left {
    animation: cloud-left-move 3s linear forwards;
    opacity: 1;
}

.flex-roller:hover .cloud-right {
    animation: cloud-right-move 3s linear forwards;
    opacity: 1;
}

.flex-roller:hover .cloud-text {
    opacity: 1;
}

@keyframes cloud-left-move {
    from { transform: translateX(0); }
    to   { transform: translateX(var(--cloud-left-move)); }
}

@keyframes cloud-right-move {
    from { transform: translateX(0); }
    to   { transform: translateX(var(--cloud-right-move)); }
}


.tree:hover {
    animation: swing 1s ease-in-out infinite alternate;
}
@keyframes swing {
    from { transform: translateX(-50%) rotate(-3deg); }
    to   { transform: translateX(-50%) rotate(3deg); }
}


.fox:focus {
    animation: fox-zigzag var(--sec) ease-in-out forwards;
  }
.fox:focus {
    content: url('../fox/fox_anim.png'); 
}
@keyframes fox-zigzag {
    0%   { transform: translate(-50%,0) scale(1); opacity: 1; }
    20%  { transform: translate(-120%,-60%) scale(0.9); opacity: 0.9; }
    40%  { transform: translate(-20%,-80%) scale(0.8); opacity: 0.7; }
    60%  { transform: translate(-120%,-100%) scale(0.6); opacity: 0.5; }
    80%  { transform: translate(-20%,-120%) scale(0.4); opacity: 0.3; }
    100% { transform: translate(-150%,-120%) scale(0.2); opacity: 0; }
}

.fox:focus ~ .cloud-text {
    opacity: 0;
  }
  
.tree-text {
    opacity: 0;
    transition: opacity 0.5s;
}
  
.fox:focus ~ .tree-text {
    animation: show-tree-text 0.5s ease var(--sec) forwards;
}
  
@keyframes show-tree-text {
    to { opacity: 1; }
}
.flex-roller:focus-within {
    animation: shake 0.5s ease-in-out infinite;
}
@keyframes shake {
    0%   { transform: translateX(0); }
    25%  { transform: translateX(5px); }
    50%  { transform: translateX(-5px); }
    75%  { transform: translateX(3px); }
    100% { transform: translateX(0); }
  }

.flex-fox-description {
    max-width: 600px;
    font-size: 1.1rem;
    line-height: 1.5;
    text-align: center;
}

.buttons {
    margin-top: 1.5rem;
    display: flex;
    gap: 1rem;
}

.btn-custom {
    padding: 0.6rem 1.2rem;
    background-color: #000;
    color: #fff;
    text-decoration: none;
    border-radius: 0.5rem;
    font-weight: 500;
    transition: background-color 0.2s;
}

.btn-custom:hover {
    background-color: #333;
}

header, footer {
    display: flex;             
    align-items: center;       
    justify-content: center;
    width: 100%;
    text-align: center;
    padding: 1rem 0;
    background-color: #f5f5f5;
}
